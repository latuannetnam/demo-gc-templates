interface {{ interface["name"] }}
{% if interface["description"] is defined and (interface["description"] | trim) != "" %}
 description {{ interface["description"] }}
{% endif %}
{% if interface["ip_addresses"] | length > 0 %}
{% for addr in interface["ip_addresses"] %}
{% if addr["address"] is defined %}
 ip address {{ addr["address"] | ipaddress_interface("with_netmask") | replace('/', ' ') }}
{% endif %}
{% endfor %}
{% else %}
 no ip address
{% endif %}
{% if interface["enabled"] == false %}
 shutdown
{% endif %}
{% if interface["duplex"] is defined %}
{% if interface["duplex"] == "full" %}
 full-duplex
{% elif interface["duplex"] == "auto" %}
 duplex auto
{% else %}
 duplex {{ interface["duplex"] }}
{% endif %}
{% endif %}
{% if interface["speed"] is defined %}
{% if interface["speed"] == "auto" %}
 speed auto
{% else %}
 speed {{ interface["speed"] }}
{% endif %}
{% endif %}
{% if interface["mop_enabled"] is defined and interface["mop_enabled"] == false %}
 no mop enabled
{% endif %}
!

