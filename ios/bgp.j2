router bgp {{ config_context.get("bgp", {}).get("asn") }}
 bgp router-id {{ config_context.get("bgp", {}).get("rid") }}
{% if config_context.get("bgp", {}).get("log-neighbor-changes") == true %}
 bgp log-neighbor-changes
{% endif %}
{% if config_context.get("bgp", {}).get("redistribute", [])|length > 0 %}
 redistribute {{ config_context.get("bgp", {}).get("redistribute", [])|join(' ') }}
{% endif %}
{% for neighbor in config_context.get("bgp", {}).get("neighbors", []) %}
 neighbor {{ neighbor["ip"] }} remote-as {{ neighbor["remote-asn"] }}
{% endfor %}

